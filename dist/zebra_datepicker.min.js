!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(jt){"use strict";jt.Zebra_DatePicker=function(t,P){var F,Z,S,x,Y,I,z,j,N,m,H,O,L,T,R,W,B,E,Q,J,G,U,V,$,q,X,d,K,tt,et,st,it,nt,at,rt,i,ot,dt,ct,lt,gt,_t,c,ht,pt,ut={always_visible:!(this.version="1.9.11"),container:jt("body"),custom_classes:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_abbr:!1,default_position:"above",direction:0,disable_time_picker:!1,disabled_dates:!1,enabled_dates:!1,enabled_hours:!1,enabled_minutes:!1,enabled_seconds:!1,first_day_of_week:0,format:"Y-m-d",header_captions:{days:"F, Y",months:"Y",years:"Y1 - Y2"},icon_margin:!1,icon_position:"right",inside:!0,lang_clear_date:"Clear date",months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_abbr:!1,navigation:["&#9664;","&#9654;","&#9650;","&#9660;"],offset:[5,-5],open_icon_only:!1,open_on_focus:!1,pair:!1,readonly_element:!0,rtl:!1,select_other_months:!1,show_clear_date:0,show_icon:!0,show_other_months:!0,show_select_today:"Today",show_week_number:!1,start_date:!1,strict:!1,view:"days",weekend_days:[0,6],zero_pad:!1,onChange:null,onClear:null,onOpen:null,onClose:null,onSelect:null},mt={},ft={},bt=!1,yt="",vt=!1,wt=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),kt=this,Dt=jt(t),e=function(t){var e,s,i,a,n,r={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"],hours:["G","g","H","h"],minutes:["i"],seconds:["s"],ampm:["A","a"]},o=null,d=!1;for(i=0;i<3;i++)yt+=Math.floor(65536*(1+Math.random())).toString(16);if(T=[],R=[],!t)for(e in kt.settings=jt.extend({},ut,jt.fn.Zebra_DatePicker.defaults,P),ft.readonly=Dt.attr("readonly"),ft.style=Dt.attr("style"),ft.padding_left=parseInt(Dt.css("paddingLeft"),10)||0,ft.padding_right=parseInt(Dt.css("paddingRight"),10)||0,Dt.data())0===e.indexOf("zdp_")&&(e=e.replace(/^zdp\_/,""),void 0!==ut[e]&&(kt.settings[e]="pair"===e?jt(Dt.data("zdp_"+e)):Dt.data("zdp_"+e)));for(kt.settings.readonly_element?Dt.attr("readonly","readonly"):Dt.removeAttr("readonly"),gt=!1,pt=[];!d;){for(o in r)jt.each(r[o],function(t,e){var s,i;if(-1<kt.settings.format.indexOf(e))if("days"===o)pt.push("days");else if("months"===o)pt.push("months");else if("years"===o)pt.push("years");else if(("hours"===o||"minutes"===o||"seconds"===o||"ampm"===o)&&!kt.settings.disable_time_picker)if(gt||(gt={is12hour:!1},pt.push("time")),"hours"===o)for("g"===(n=e)||"h"===e?(i=12,gt.is12hour=!0):i=24,gt.hours=[],s=12===i?1:0;s<(12===i?13:i);s++)(!jt.isArray(kt.settings.enabled_hours)||-1<jt.inArray(s,kt.settings.enabled_hours))&&gt.hours.push(s);else if("minutes"===o)for(gt.minutes=[],s=0;s<60;s++)(!jt.isArray(kt.settings.enabled_minutes)||-1<jt.inArray(s,kt.settings.enabled_minutes))&&gt.minutes.push(s);else if("seconds"===o)for(gt.seconds=[],s=0;s<60;s++)(!jt.isArray(kt.settings.enabled_seconds)||-1<jt.inArray(s,kt.settings.enabled_seconds))&&gt.seconds.push(s);else gt.ampm=["am","pm"]});n&&gt.ampm&&!1===gt.is12hour?kt.settings.format=kt.settings.format.replace(n,n.toLowerCase()):d=!0}for(i in 0===pt.length&&(pt=["years","months","days"]),-1===jt.inArray(kt.settings.view,pt)&&(kt.settings.view=pt[pt.length-1]),z=[],kt.settings.custom_classes)kt.settings.custom_classes.hasOwnProperty(i)&&-1===z.indexOf(i)&&z.push(i);for(a=0;a<2+z.length;a++)s=0===a?kt.settings.disabled_dates:1===a?kt.settings.enabled_dates:kt.settings.custom_classes[z[a-2]],jt.isArray(s)&&0<s.length&&jt.each(s,function(){var t,e,s,i,n=this.split(" ");for(t=0;t<4;t++){for(n[t]||(n[t]="*"),n[t]=-1<n[t].indexOf(",")?n[t].split(","):new Array(n[t]),e=0;e<n[t].length;e++)if(-1<n[t][e].indexOf("-")&&null!==(i=n[t][e].match(/^([0-9]+)\-([0-9]+)/))){for(s=Yt(i[1]);s<=Yt(i[2]);s++)-1===jt.inArray(s,n[t])&&n[t].push(s+"");n[t].splice(e,1)}for(e=0;e<n[t].length;e++)n[t][e]=isNaN(Yt(n[t][e]))?n[t][e]:Yt(n[t][e])}0===a?T.push(n):1===a?R.push(n):(void 0===mt[z[a-2]]&&(mt[z[a-2]]=[]),mt[z[a-2]].push(n))});var c,l,g=new Date,_=kt.settings.reference_date?kt.settings.reference_date:Dt.data("zdp_reference_date")&&void 0!==Dt.data("zdp_reference_date")?Dt.data("zdp_reference_date"):g;if(W=dt=void 0,E=_.getMonth(),Y=g.getMonth(),Q=_.getFullYear(),I=g.getFullYear(),B=_.getDate(),x=g.getDate(),!0===kt.settings.direction)dt=_;else if(!1===kt.settings.direction)$=(W=_).getMonth(),q=W.getFullYear(),V=W.getDate();else if(!jt.isArray(kt.settings.direction)&&Ft(kt.settings.direction)&&0<Yt(kt.settings.direction)||jt.isArray(kt.settings.direction)&&((c=At(kt.settings.direction[0]))||!0===kt.settings.direction[0]||Ft(kt.settings.direction[0])&&0<kt.settings.direction[0])&&((l=At(kt.settings.direction[1]))||!1===kt.settings.direction[1]||Ft(kt.settings.direction[1])&&0<=kt.settings.direction[1]))dt=c||new Date(Q,E,B+(jt.isArray(kt.settings.direction)?Yt(!0===kt.settings.direction[0]?0:kt.settings.direction[0]):Yt(kt.settings.direction))),E=dt.getMonth(),Q=dt.getFullYear(),B=dt.getDate(),l&&+dt<=+l?W=l:!l&&!1!==kt.settings.direction[1]&&jt.isArray(kt.settings.direction)&&(W=new Date(Q,E,B+Yt(kt.settings.direction[1]))),W&&($=W.getMonth(),q=W.getFullYear(),V=W.getDate());else if(!jt.isArray(kt.settings.direction)&&Ft(kt.settings.direction)&&Yt(kt.settings.direction)<0||jt.isArray(kt.settings.direction)&&(!1===kt.settings.direction[0]||Ft(kt.settings.direction[0])&&kt.settings.direction[0]<0)&&((c=At(kt.settings.direction[1]))||Ft(kt.settings.direction[1])&&0<=kt.settings.direction[1]))W=new Date(Q,E,B+(jt.isArray(kt.settings.direction)?Yt(!1===kt.settings.direction[0]?0:kt.settings.direction[0]):Yt(kt.settings.direction))),$=W.getMonth(),q=W.getFullYear(),V=W.getDate(),c&&+c<+W?dt=c:!c&&jt.isArray(kt.settings.direction)&&(dt=new Date(q,$,V-Yt(kt.settings.direction[1]))),dt&&(E=dt.getMonth(),Q=dt.getFullYear(),B=dt.getDate());else if(jt.isArray(kt.settings.disabled_dates)&&0<kt.settings.disabled_dates.length)for(var h in T)if(-1<jt.inArray("*",T[h][0])&&-1<jt.inArray("*",T[h][1])&&-1<jt.inArray("*",T[h][2])&&-1<jt.inArray("*",T[h][3])){var p=[];if(jt.each(R,function(){var t=this;"*"!==t[2][0]&&p.push(parseInt(t[2][0]+("*"===t[1][0]?"12":xt(t[1][0],2))+("*"===t[0][0]?"*"===t[1][0]?"31":new Date(t[2][0],t[1][0],0).getDate():xt(t[0][0],2)),10))}),p.sort(),0<p.length){var u=(p[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/);Q=parseInt(u[1],10),E=parseInt(u[2],10)-1,B=parseInt(u[3],10)}break}if(Pt(Q,E,B)){for(;Pt(Q);)dt?(Q++,E=0):(Q--,E=11);for(;Pt(Q,E);)dt?(E++,B=1):(E--,B=new Date(Q,E+1,0).getDate()),11<E?(Q++,E=0,B=1):E<0&&(Q--,E=11,B=new Date(Q,E+1,0).getDate());for(;Pt(Q,E,B);)dt?B++:B--,g=new Date(Q,E,B),Q=g.getFullYear(),E=g.getMonth(),B=g.getDate();g=new Date(Q,E,B),Q=g.getFullYear(),E=g.getMonth(),B=g.getDate()}kt.settings.start_date&&"object"==typeof kt.settings.start_date&&kt.settings.start_date instanceof Date&&(kt.settings.start_date=Mt(kt.settings.start_date));var m=At(Dt.val()||(kt.settings.start_date?kt.settings.start_date:""));if(m&&kt.settings.strict&&Pt(m.getFullYear(),m.getMonth(),m.getDate())&&Dt.val(""),t||void 0===dt&&void 0===m||It(void 0!==m?m:dt),!(kt.settings.always_visible instanceof jQuery)){if(!t){if(kt.settings.show_icon){"firefox"===zt.name&&Dt.is('input[type="text"]')&&"inline"===Dt.css("display")&&Dt.css("display","inline-block");var f=parseInt(Dt.css("marginTop"),10)||0,b=parseInt(Dt.css("marginRight"),10)||0,y=parseInt(Dt.css("marginBottom"),10)||0,v=parseInt(Dt.css("marginLeft"),10)||0,w=jt('<span class="Zebra_DatePicker_Icon_Wrapper"></span>').css({display:Dt.css("display"),position:"static"===Dt.css("position")?"relative":Dt.css("position"),"float":Dt.css("float"),top:Dt.css("top"),right:Dt.css("right"),bottom:Dt.css("bottom"),left:Dt.css("left"),marginTop:f<0?f:0,marginRight:b<0?b:0,marginBottom:y<0?y:0,marginLeft:v<0?v:0,paddingTop:f,paddingRight:b,paddingBottom:y,paddingLeft:v});"block"===Dt.css("display")&&w.css("width",Dt.outerWidth(!0)),Dt.wrap(w).css({position:"relative","float":"none",top:"auto",right:"auto",bottom:"auto",left:"auto",marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),U=jt('<button type="button" class="Zebra_DatePicker_Icon'+("disabled"===Dt.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>'),kt.icon=U,Z=kt.settings.open_icon_only?U:U.add(Dt)}else Z=Dt;Z.on("click.Zebra_DatePicker_"+yt+(kt.settings.open_on_focus?" focus.Zebra_DatePicker_"+yt:""),function(){j.hasClass("dp_hidden")&&!Dt.attr("disabled")&&(!vt||kt.settings.readonly_element?kt.show():(clearTimeout(ct),ct=setTimeout(function(){kt.show()},600)))}),Z.on("keydown.Zebra_DatePicker_"+yt,function(t){9!==t.keyCode||j.hasClass("dp_hidden")||kt.hide()}),!kt.settings.readonly_element&&kt.settings.pair&&Dt.on("blur.Zebra_DatePicker_"+yt,function(){var t;(t=At(jt(this).val()))&&!Pt(t.getFullYear(),t.getMonth(),t.getDate())&&It(t)}),void 0!==U&&U.insertAfter(Dt)}if(void 0!==U){U.attr("style","");var k=Dt.outerWidth(),D=Dt.outerHeight(),A=U.outerWidth(),C=U.outerHeight();U.css("top",(D-C)/2),kt.settings.inside?"right"===kt.settings.icon_position?(U.css("right",!1!==kt.settings.icon_margin?kt.settings.icon_margin:ft.padding_right),Dt.css("paddingRight",2*(!1!==kt.settings.icon_margin?kt.settings.icon_margin:ft.padding_right)+A)):(U.css("left",!1!==kt.settings.icon_margin?kt.settings.icon_margin:ft.padding_left),Dt.css("paddingLeft",2*(!1!==kt.settings.icon_margin?kt.settings.icon_margin:ft.padding_left)+A)):U.css("left",k+(!1!==kt.settings.icon_margin?kt.settings.icon_margin:ft.padding_left)),U.removeClass("Zebra_DatePicker_Icon_Disabled"),"disabled"===Dt.attr("disabled")&&U.addClass("Zebra_DatePicker_Icon_Disabled")}}if(ot=!1!==kt.settings.show_select_today&&-1<jt.inArray("days",pt)&&!Pt(I,Y,x)&&kt.settings.show_select_today,t)return jt(".dp_previous",j).html(kt.settings.navigation[0]),jt(".dp_next",j).html(kt.settings.navigation[1]),jt(".dp_time_controls_increase .dp_time_control",j).html(kt.settings.navigation[2]),jt(".dp_time_controls_decrease .dp_time_control",j).html(kt.settings.navigation[3]),jt(".dp_clear",j).html(kt.settings.lang_clear_date),void jt(".dp_today",j).html(kt.settings.show_select_today);jt(window).on("resize.Zebra_DatePicker_"+yt+", orientationchange.Zebra_DatePicker_"+yt,function(){kt.hide()});var M='<div class="Zebra_DatePicker"><table class="dp_header dp_actions"><tr><td class="dp_previous">'+kt.settings.navigation[0]+(wt?"&#xFE0E;":"")+'</td><td class="dp_caption"></td><td class="dp_next">'+kt.settings.navigation[1]+(wt?"&#xFE0E;":"")+'</td></tr></table><table class="dp_daypicker'+(kt.settings.show_week_number?" dp_week_numbers":"")+' dp_body"></table><table class="dp_monthpicker dp_body"></table><table class="dp_yearpicker dp_body"></table><table class="dp_timepicker dp_body"></table><table class="dp_footer dp_actions"><tr><td class="dp_today">'+ot+'</td><td class="dp_clear">'+kt.settings.lang_clear_date+'</td><td class="dp_view_toggler dp_icon">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="dp_confirm dp_icon"></td></tr></table></div>';j=jt(M),G=jt("table.dp_header",j),N=jt("table.dp_daypicker",j),X=jt("table.dp_monthpicker",j),_t=jt("table.dp_yearpicker",j),lt=jt("table.dp_timepicker",j),J=jt("table.dp_footer",j),rt=jt("td.dp_today",J),F=jt("td.dp_clear",J),it=jt("td.dp_view_toggler",J),S=jt("td.dp_confirm",J),kt.settings.always_visible instanceof jQuery?Dt.attr("disabled")||(kt.settings.always_visible.append(j),kt.show()):kt.settings.container.append(j),j.on("mouseover","td:not(.dp_disabled)",function(){jt(this).addClass("dp_hover")}).on("mouseout","td:not(.dp_disabled)",function(){jt(this).removeClass("dp_hover")}),Ct(j),jt(kt.settings.rtl?".dp_next":".dp_previous",G).on("click",function(){"months"===ht?at--:"years"===ht?at-=12:--nt<0&&(nt=11,at--),Zt()}),jt(".dp_caption",G).on("click",function(){ht="days"===ht?-1<jt.inArray("months",pt)?"months":-1<jt.inArray("years",pt)?"years":"days":"months"===ht?-1<jt.inArray("years",pt)?"years":-1<jt.inArray("days",pt)?"days":"months":-1<jt.inArray("days",pt)?"days":-1<jt.inArray("months",pt)?"months":"years",Zt()}),jt(kt.settings.rtl?".dp_previous":".dp_next",G).on("click",function(){"months"===ht?at++:"years"===ht?at+=12:12==++nt&&(nt=0,at++),Zt()}),N.on("click","td:not(.dp_disabled)",function(){var t;kt.settings.select_other_months&&jt(this).attr("class")&&null!==(t=jt(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))?St(t[1],t[2]-1,t[3],"days",jt(this)):St(at,nt,Yt(jt(this).html()),"days",jt(this))}),X.on("click","td:not(.dp_disabled)",function(){var t=jt(this).attr("class").match(/dp\_month\_([0-9]+)/);nt=Yt(t[1]),-1===jt.inArray("days",pt)?St(at,nt,1,"months",jt(this)):(ht="days",kt.settings.always_visible&&Dt.val(""),Zt())}),_t.on("click","td:not(.dp_disabled)",function(){at=Yt(jt(this).html()),-1===jt.inArray("months",pt)?St(at,1,1,"years",jt(this)):(ht="months",kt.settings.always_visible&&Dt.val(""),Zt())}),rt.on("click",function(t){var e=new Date;t.preventDefault(),St(e.getFullYear(),e.getMonth(),e.getDate(),"days",jt(".dp_current",N))}),F.on("click",function(t){t.preventDefault(),Dt.val(""),L=O=H=null,kt.settings.always_visible?jt("td.dp_selected",j).removeClass("dp_selected"):at=nt=null,Dt.focus(),kt.hide(),kt.settings.onClear&&"function"==typeof kt.settings.onClear&&kt.settings.onClear.call(Dt)}),it.on("click",function(){"time"!==ht?(ht="time",Zt()):jt(".dp_caption",G).trigger("click")}),S.on("click",function(){if(jt(".dp_time_controls_increase td",lt).trigger("click"),jt(".dp_time_controls_decrease td",lt).trigger("click"),kt.settings.onSelect&&"function"==typeof kt.settings.onSelect){var t=new Date(at,nt,H,gt&&gt.hours?K+(gt.ampm&&("pm"===st&&K<12||"am"===st&&12===K)?12:0):0,gt&&gt.minutes?tt:0,gt&&gt.seconds?et:0);kt.settings.onSelect.call(Dt,Mt(t),at+"-"+xt(nt+1,2)+"-"+xt(H,2)+(gt?" "+xt(t.getHours(),2)+":"+xt(t.getMinutes(),2)+":"+xt(t.getSeconds(),2):""),t)}kt.hide()}),j.on("click",".dp_time_controls_increase td, .dp_time_controls_decrease td",function(){var t,e=0<jt(this).parent(".dp_time_controls_increase").length,s=jt(this).attr("class").match(/dp\_time\_([^\s]+)/i),i=jt(".dp_time_segments .dp_time_"+s[1]+("ampm"!==s[1]?"s":""),lt),n=i.text().toLowerCase(),a=gt[s[1]+("ampm"!==s[1]?"s":"")],r=jt.inArray("ampm"!==s[1]?parseInt(n,10):n,a),o=-1===r?0:e?r+1>=a.length?0:r+1:r-1<0?a.length-1:r-1;"hour"===s[1]?K=a[o]:"minute"===s[1]?tt=a[o]:"second"===s[1]?et=a[o]:st=a[o],!H&&kt.settings.start_date&&(t=At(kt.settings.start_date))&&(H=t.getDate()),H||(H=B),i.text(xt(a[o],2).toUpperCase()),St(at,nt,H)}),kt.settings.always_visible instanceof jQuery||(jt(document).on("touchmove.Zebra_DatePicker_"+yt,function(){bt=!0}),jt(document).on("mousedown.Zebra_DatePicker_"+yt+" touchend.Zebra_DatePicker_"+yt,function(t){if("touchend"===t.type&&bt)return bt=!(vt=!0);bt=!1,j.hasClass("dp_hidden")||(!kt.settings.open_icon_only||!kt.icon||jt(t.target).get(0)===kt.icon.get(0))&&(kt.settings.open_icon_only||jt(t.target).get(0)===Dt.get(0)||kt.icon&&jt(t.target).get(0)===kt.icon.get(0))||0!==jt(t.target).parents().filter(".Zebra_DatePicker").length||kt.hide(!0)}),jt(document).on("keyup.Zebra_DatePicker_"+yt,function(t){j.hasClass("dp_hidden")||27!==t.which||kt.hide()})),Zt()},At=function(t){if(t+="",""!==jt.trim(t)){var e,s,i=w(kt.settings.format),n=["d","D","j","l","N","S","w","F","m","M","n","Y","y","G","g","H","h","i","s","a","A"],a=[],r=[],o=null,d=null;for(s=0;s<n.length;s++)-1<(o=i.indexOf(n[s]))&&a.push({character:n[s],position:o});if(a.sort(function(t,e){return t.position-e.position}),jt.each(a,function(t,e){switch(e.character){case"d":r.push("0[1-9]|[12][0-9]|3[01]");break;case"D":r.push("[a-z]{3}");break;case"j":r.push("[1-9]|[12][0-9]|3[01]");break;case"l":r.push("[a-zÀ-ɏ]+");break;case"N":r.push("[1-7]");break;case"S":r.push("st|nd|rd|th");break;case"w":r.push("[0-6]");break;case"F":r.push("[a-z]+");break;case"m":r.push("0[1-9]|1[012]");break;case"M":r.push("[a-z]{3}");break;case"n":r.push("[1-9]|1[012]");break;case"Y":r.push("[0-9]{4}");break;case"y":r.push("[0-9]{2}");break;case"G":r.push("[1-9]|1[0-9]|2[0123]");break;case"g":r.push("[0-9]|1[012]");break;case"H":r.push("0[0-9]|1[0-9]|2[0123]");break;case"h":r.push("0[0-9]|1[012]");break;case"i":case"s":r.push("0[0-9]|[12345][0-9]");break;case"a":r.push("am|pm");break;case"A":r.push("AM|PM")}}),r.length&&(a.reverse(),jt.each(a,function(t,e){i=i.replace(e.character,"("+r[r.length-t-1]+")")}),r=new RegExp("^"+i+"$","ig"),d=r.exec(t))){var c,l,g=new Date,_=1,h=g.getMonth()+1,p=g.getFullYear(),u=g.getHours(),m=g.getMinutes(),f=g.getSeconds(),b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=["January","February","March","April","May","June","July","August","September","October","November","December"],v=!0;if(a.reverse(),jt.each(a,function(s,i){if(!v)return!0;switch(i.character){case"m":case"n":h=Yt(d[s+1]);break;case"d":case"j":_=Yt(d[s+1]);break;case"D":case"l":case"F":case"M":l="D"===i.character||"l"===i.character?kt.settings.days:kt.settings.months,v=!1,jt.each(l,function(t,e){if(v)return!0;if(d[s+1].toLowerCase()===e.substring(0,"D"===i.character||"M"===i.character?3:e.length).toLowerCase()){switch(i.character){case"D":d[s+1]=b[t].substring(0,3);break;case"l":d[s+1]=b[t];break;case"F":d[s+1]=y[t],h=t+1;break;case"M":d[s+1]=y[t].substring(0,3),h=t+1}v=!0}});break;case"Y":p=Yt(d[s+1]);break;case"y":p="19"+Yt(d[s+1]);break;case"G":case"H":case"g":case"h":u=Yt(d[s+1]);break;case"i":m=Yt(d[s+1]);break;case"s":f=Yt(d[s+1]);break;case"a":case"A":c=d[s+1].toLowerCase()}}),v&&(e=new Date(p,(h||1)-1,_||1,u+("pm"===c&&12!==u?12:"am"===c&&12===u?-12:0),m,f)).getFullYear()===p&&e.getDate()===(_||1)&&e.getMonth()===(h||1)-1)return e}return!1}},Ct=function(t){"firefox"===zt.name?t.css("MozUserSelect","none"):"explorer"===zt.name?jt(document).on("selectstart",t,function(){return!1}):t.mousedown(function(){return!1})},w=function(t){return t.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1")},Mt=function(t){var e,s,i="",n=t.getDate(),a=t.getDay(),r=kt.settings.days[a],o=t.getMonth()+1,d=kt.settings.months[o-1],c=t.getFullYear()+"",l=t.getHours(),g=l%12==0?12:l%12,_=t.getMinutes(),h=t.getSeconds(),p=12<=l?"pm":"am";for(e=0;e<kt.settings.format.length;e++)switch(s=kt.settings.format.charAt(e)){case"y":c=c.substr(2);case"Y":i+=c;break;case"m":o=xt(o,2);case"n":i+=o;break;case"M":d=jt.isArray(kt.settings.months_abbr)&&void 0!==kt.settings.months_abbr[o-1]?kt.settings.months_abbr[o-1]:kt.settings.months[o-1].substr(0,3);case"F":i+=d;break;case"d":n=xt(n,2);case"j":i+=n;break;case"D":r=jt.isArray(kt.settings.days_abbr)&&void 0!==kt.settings.days_abbr[a]?kt.settings.days_abbr[a]:kt.settings.days[a].substr(0,3);case"l":i+=r;break;case"N":a++;case"w":i+=a;break;case"S":i+=n%10==1&&"11"!==n?"st":n%10==2&&"12"!==n?"nd":n%10==3&&"13"!==n?"rd":"th";break;case"g":i+=g;break;case"h":i+=xt(g,2);break;case"G":i+=l;break;case"H":i+=xt(l,2);break;case"i":i+=xt(_,2);break;case"s":i+=xt(h,2);break;case"a":i+=p;break;case"A":i+=p.toUpperCase();break;default:i+=s}return i},n=function(){var t,e,s,i,n,a,r,o,d,c,l,g,_=new Date(at,nt+1,0).getDate(),h=new Date(at,nt,1).getDay(),p=new Date(at,nt,0).getDate(),u=h-kt.settings.first_day_of_week;for(u=u<0?7+u:u,y(kt.settings.header_captions.days),e="<tr>",kt.settings.show_week_number&&(e+="<th>"+kt.settings.show_week_number+"</th>"),t=0;t<7;t++)s=(kt.settings.first_day_of_week+(kt.settings.rtl?6-t:t))%7,e+="<th>"+(jt.isArray(kt.settings.days_abbr)&&void 0!==kt.settings.days_abbr[s]?kt.settings.days_abbr[s]:kt.settings.days[s].substr(0,2))+"</th>";for(e+="</tr><tr>",t=0;t<42;t++)g=kt.settings.rtl?6-t%7*2:0,0<t&&t%7==0&&(e+="</tr><tr>"),t%7==0&&kt.settings.show_week_number&&(e+="<th>"+b(new Date(at,nt,t-u+1))+"</th>"),s=g+(t-u+1),kt.settings.select_other_months&&(t<u||_<s)&&(n=(i=new Date(at,nt,s)).getFullYear(),a=i.getMonth(),r=i.getDate(),i=n+xt(a+1,2)+xt(r,2)),o=(kt.settings.first_day_of_week+t)%7,l=-1<jt.inArray(o,kt.settings.weekend_days),kt.settings.rtl&&s<1||!kt.settings.rtl&&t<u?e+='<td class="dp_not_in_month '+(l?"dp_weekend ":"")+(kt.settings.select_other_months&&!Pt(n,a,r)?"date_"+i:"dp_disabled")+'">'+(kt.settings.select_other_months||kt.settings.show_other_months?xt(g+p-u+t+1,kt.settings.zero_pad?2:0):"&nbsp;")+"</td>":_<s?e+='<td class="dp_not_in_month '+(l?"dp_weekend ":"")+(kt.settings.select_other_months&&!Pt(n,a,r)?"date_"+i:"dp_disabled")+'">'+(kt.settings.select_other_months||kt.settings.show_other_months?xt(s-_,kt.settings.zero_pad?2:0):"&nbsp;")+"</td>":(d="",c=f(at,nt,s),l&&(d=" dp_weekend"),nt===Y&&at===I&&x===s&&(d+=" dp_current"),""!==c&&(d+=" "+c),nt===O&&at===L&&H===s&&(d+=" dp_selected"),Pt(at,nt,s)&&(d+=" dp_disabled"),e+="<td"+(""!==d?' class="'+jt.trim(d)+'"':"")+">"+((kt.settings.zero_pad?xt(s,2):s)||"&nbsp;")+"</td>");e+="</tr>",N.html(jt(e)),kt.settings.always_visible&&(m=jt("td:not(.dp_disabled)",N)),N.show()},f=function(s,i,n){var a,t,r;for(t in void 0!==i&&(i+=1),z)if(a=z[t],r=!1,jt.isArray(mt[a])&&jt.each(mt[a],function(){if(!r){var t,e=this;if((-1<jt.inArray(s,e[2])||-1<jt.inArray("*",e[2]))&&(void 0!==i&&-1<jt.inArray(i,e[1])||-1<jt.inArray("*",e[1]))&&(void 0!==n&&-1<jt.inArray(n,e[0])||-1<jt.inArray("*",e[0]))){if(-1<jt.inArray("*",e[3]))return r=a;if(t=new Date(s,i-1,n).getDay(),-1<jt.inArray(t,e[3]))return r=a}}}),r)return r;return r||""},b=function(t){var e,s,i,n,a,r,o,d=t.getFullYear(),c=t.getMonth()+1,l=t.getDate();return c<3?(i=(s=((e=d-1)/4|0)-(e/100|0)+(e/400|0))-(((e-1)/4|0)-((e-1)/100|0)+((e-1)/400|0)),n=0,a=l-1+31*(c-1)):(n=(i=(s=((e=d)/4|0)-(e/100|0)+(e/400|0))-(((e-1)/4|0)-((e-1)/100|0)+((e-1)/400|0)))+1,a=l+((153*(c-3)+2)/5|0)+58+i),(o=a+3-(l=(a+(r=(e+s)%7)-n)%7))<0?53-((r-i)/5|0):364+i<o?1:1+(o/7|0)},l=function(t){var e,s;if("explorer"===zt.name&&6===zt.version)switch(i||(e=Yt(j.css("zIndex"))-1,i=jt("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,css:{zIndex:e,position:"absolute",top:-1e3,left:-1e3,width:j.outerWidth(),height:j.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}}),jt("body").append(i)),t){case"hide":i.hide();break;default:s=j.offset(),i.css({top:s.top,left:s.left,display:"block"})}},Pt=function(s,i,n){var t,e,a,r;if(!(void 0!==s&&!isNaN(s)||void 0!==i&&!isNaN(i)||void 0!==n&&!isNaN(n)))return!1;if(s<1e3)return!0;if(jt.isArray(kt.settings.direction)||0!==Yt(kt.settings.direction)){if(8===(e=((t=Yt(o(s,void 0!==i?xt(i,2):"",void 0!==n?xt(n,2):"")))+"").length)&&(void 0!==dt&&t<Yt(o(Q,xt(E,2),xt(B,2)))||void 0!==W&&t>Yt(o(q,xt($,2),xt(V,2)))))return!0;if(6===e&&(void 0!==dt&&t<Yt(o(Q,xt(E,2)))||void 0!==W&&t>Yt(o(q,xt($,2)))))return!0;if(4===e&&(void 0!==dt&&t<Q||void 0!==W&&q<t))return!0}return void 0!==i&&(i+=1),r=a=!1,jt.isArray(T)&&T.length&&jt.each(T,function(){if(!a){var t,e=this;if((-1<jt.inArray(s,e[2])||-1<jt.inArray("*",e[2]))&&(void 0!==i&&-1<jt.inArray(i,e[1])||-1<jt.inArray("*",e[1]))&&(void 0!==n&&-1<jt.inArray(n,e[0])||-1<jt.inArray("*",e[0]))){if(-1<jt.inArray("*",e[3]))return a=!0;if(t=new Date(s,i-1,n).getDay(),-1<jt.inArray(t,e[3]))return a=!0}}}),R&&jt.each(R,function(){if(!r){var t,e=this;if((-1<jt.inArray(s,e[2])||-1<jt.inArray("*",e[2]))&&(r=!0,void 0!==i))if(r=!0,-1<jt.inArray(i,e[1])||-1<jt.inArray("*",e[1])){if(void 0!==n)if(r=!0,-1<jt.inArray(n,e[0])||-1<jt.inArray("*",e[0])){if(-1<jt.inArray("*",e[3]))return r=!0;if(t=new Date(s,i-1,n).getDay(),-1<jt.inArray(t,e[3]))return r=!0;r=!1}else r=!1}else r=!1}}),(!R||!r)&&!(!T||!a)},Ft=function(t){return(t+"").match(/^\-?[0-9]+$/)},y=function(t){!isNaN(parseFloat(nt))&&isFinite(nt)&&(t=t.replace(/\bm\b|\bn\b|\bF\b|\bM\b/,function(t){switch(t){case"m":return xt(nt+1,2);case"n":return nt+1;case"F":return kt.settings.months[nt];case"M":return jt.isArray(kt.settings.months_abbr)&&void 0!==kt.settings.months_abbr[nt]?kt.settings.months_abbr[nt]:kt.settings.months[nt].substr(0,3);default:return t}})),!isNaN(parseFloat(at))&&isFinite(at)&&(t=t.replace(/\bY\b/,at).replace(/\by\b/,(at+"").substr(2)).replace(/\bY1\b/i,at-7).replace(/\bY2\b/i,at+4)),jt(".dp_caption",G).html(t)},Zt=function(){var t,e,s,i;""===N.text()||"days"===ht?(""===N.text()?(kt.settings.always_visible instanceof jQuery||j.css("left",-1e3),j.removeClass("hidden"),n(),t=void 0!==N[0].getBoundingClientRect&&void 0!==N[0].getBoundingClientRect().height?N[0].getBoundingClientRect().height:N.outerHeight(!0),X.css("height",t),_t.css("height",t),lt.css("height",t+G.outerHeight(!0)),j.css("width",j.outerWidth()),j.addClass("dp_hidden")):n(),G.show(),X.hide(),_t.hide(),lt.hide(),it.hide(),S.hide(),gt&&it.show().removeClass("dp_calendar")):"months"===ht?(!function(){y(kt.settings.header_captions.months);var t,e,s,i="<tr>";for(t=0;t<12;t++)0<t&&t%3==0&&(i+="</tr><tr>"),e="dp_month_"+(s=kt.settings.rtl?2+t-t%3*2:t),Pt(at,s)?e+=" dp_disabled":!1!==O&&O===s&&at===L?e+=" dp_selected":Y===s&&I===at&&(e+=" dp_current"),i+='<td class="'+jt.trim(e)+'">'+(jt.isArray(kt.settings.months_abbr)&&void 0!==kt.settings.months_abbr[s]?kt.settings.months_abbr[s]:kt.settings.months[s].substr(0,3))+"</td>";i+="</tr>",X.html(jt(i)),kt.settings.always_visible&&(d=jt("td:not(.dp_disabled)",X)),X.show()}(),N.hide(),_t.hide(),lt.hide(),it.hide(),S.hide()):"years"===ht?(!function(){y(kt.settings.header_captions.years);var t,e,s,i="<tr>";for(t=0;t<12;t++)0<t&&t%3==0&&(i+="</tr><tr>"),s=kt.settings.rtl?2+t-t%3*2:t,e="",Pt(at-7+s)?e+=" dp_disabled":L&&L===at-7+s?e+=" dp_selected":I===at-7+s&&(e+=" dp_current"),i+="<td"+(""!==jt.trim(e)?' class="'+jt.trim(e)+'"':"")+">"+(at-7+s)+"</td>";i+="</tr>",_t.html(jt(i)),kt.settings.always_visible&&(c=jt("td:not(.dp_disabled)",_t)),_t.show()}(),N.hide(),X.hide(),lt.hide(),it.hide(),S.hide()):"time"===ht&&(i=gt.hours&&gt.minutes&&gt.seconds&&gt.ampm,s='<tr class="dp_time_controls_increase'+(i?" dp_time_controls_condensed":"")+'">'+(kt.settings.rtl&&gt.ampm?'<td class="dp_time_ampm dp_time_control">'+kt.settings.navigation[2]+"</td>":"")+(gt.hours?'<td class="dp_time_hour dp_time_control">'+kt.settings.navigation[2]+"</td>":"")+(gt.minutes?'<td class="dp_time_minute dp_time_control">'+kt.settings.navigation[2]+"</td>":"")+(gt.seconds?'<td class="dp_time_second dp_time_control">'+kt.settings.navigation[2]+"</td>":"")+(!kt.settings.rtl&&gt.ampm?'<td class="dp_time_ampm dp_time_control">'+kt.settings.navigation[2]+"</td>":"")+"</tr>",s+='<tr class="dp_time_segments'+(i?" dp_time_controls_condensed":"")+'">',kt.settings.rtl&&gt.ampm&&(s+='<td class="dp_time_ampm dp_disabled'+(gt.hours||gt.minutes||gt.seconds?" dp_time_separator":"")+'"><div>'+st.toUpperCase()+"</div></td>"),gt.hours&&(s+='<td class="dp_time_hours dp_disabled'+(gt.minutes||gt.seconds||!kt.settings.rtl&&gt.ampm?" dp_time_separator":"")+'"><div>'+xt(K,2)+"</div></td>"),gt.minutes&&(s+='<td class="dp_time_minutes dp_disabled'+(gt.seconds||!kt.settings.rtl&&gt.ampm?" dp_time_separator":"")+'"><div>'+xt(tt,2)+"</div></td>"),gt.seconds&&(s+='<td class="dp_time_seconds dp_disabled'+(!kt.settings.rtl&&gt.ampm?" dp_time_separator":"")+'"><div>'+xt(et,2)+"</div></td>"),!kt.settings.rtl&&gt.ampm&&(s+='<td class="dp_time_ampm dp_disabled">'+st.toUpperCase()+"</td>"),s+="</tr>",s+='<tr class="dp_time_controls_decrease'+(i?" dp_time_controls_condensed":"")+'">'+(kt.settings.rtl&&gt.ampm?'<td class="dp_time_ampm dp_time_control">'+kt.settings.navigation[3]+"</td>":"")+(gt.hours?'<td class="dp_time_hour dp_time_control">'+kt.settings.navigation[3]+"</td>":"")+(gt.minutes?'<td class="dp_time_minute dp_time_control">'+kt.settings.navigation[3]+"</td>":"")+(gt.seconds?'<td class="dp_time_second dp_time_control">'+kt.settings.navigation[3]+"</td>":"")+(!kt.settings.rtl&&gt.ampm?'<td class="dp_time_ampm dp_time_control">'+kt.settings.navigation[3]+"</td>":"")+"</tr>",lt.html(jt(s)),lt.show(),1===pt.length?(it.hide(),S.show()):(it.show().addClass("dp_calendar"),""===Dt.val()?S.hide():S.show()),G.hide(),N.hide(),X.hide(),_t.hide()),"time"!==ht&&kt.settings.onChange&&"function"==typeof kt.settings.onChange&&void 0!==ht&&((e="days"===ht?N.find("td:not(.dp_disabled)"):"months"===ht?X.find("td:not(.dp_disabled)"):_t.find("td:not(.dp_disabled)")).each(function(){var t;"days"===ht?jt(this).hasClass("dp_not_in_month")&&!jt(this).hasClass("dp_disabled")?(t=jt(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/),jt(this).data("date",t[1]+"-"+t[2]+"-"+t[3])):jt(this).data("date",at+"-"+xt(nt+1,2)+"-"+xt(Yt(jt(this).text()),2)):"months"===ht?(t=jt(this).attr("class").match(/dp\_month\_([0-9]+)/),jt(this).data("date",at+"-"+xt(Yt(t[1])+1,2))):jt(this).data("date",Yt(jt(this).text()))}),kt.settings.onChange.call(Dt,ht,e)),J.show(),"time"===ht&&1<pt.length?(rt.hide(),F.hide(),it.css("width",""===Dt.val()?"100%":"50%")):(rt.show(),F.show(),!0===kt.settings.show_clear_date||0===kt.settings.show_clear_date&&""!==Dt.val()||kt.settings.always_visible&&!1!==kt.settings.show_clear_date?ot?(rt.css("width","50%"),F.css("width","50%")):(rt.hide(),F.css("width",-1<jt.inArray(pt,"time")?"50%":"100%")):(F.hide(),ot?rt.css("width","100%"):(rt.hide(),(!gt||"time"!==ht&&"days"!==ht)&&J.hide())))},St=function(t,e,s,i,n){var a=new Date(t,e,s,gt&&gt.hours?K+(gt.ampm?"pm"===st&&12!==K?12:"am"===st&&12===K?-12:0:0):12,gt&&gt.minutes?tt:0,gt&&gt.seconds?et:0),r="days"===i?m:"months"===i?d:c,o=Mt(a);Dt.val(o),(kt.settings.always_visible||gt)&&(O=a.getMonth(),nt=a.getMonth(),L=a.getFullYear(),at=a.getFullYear(),H=a.getDate(),n&&r&&(r.removeClass("dp_selected"),n.addClass("dp_selected"),"days"===i&&n.hasClass("dp_not_in_month")&&!n.hasClass("dp_disabled")&&kt.show())),gt?(ht="time",Zt()):(Dt.focus(),kt.hide()),It(a),!gt&&kt.settings.onSelect&&"function"==typeof kt.settings.onSelect&&kt.settings.onSelect.call(Dt,o,t+"-"+xt(e+1,2)+"-"+xt(s,2),a)},o=function(){var t,e="";for(t=0;t<arguments.length;t++)e+=arguments[t]+"";return e},xt=function(t,e){for(t+="";t.length<e;)t="0"+t;return t},Yt=function(t){return parseInt(t,10)},It=function(s){kt.settings.pair&&jt.each(kt.settings.pair,function(){var t,e=jt(this);e.data&&e.data("Zebra_DatePicker")?((t=e.data("Zebra_DatePicker")).update({reference_date:s,direction:0===t.settings.direction?1:t.settings.direction}),t.settings.always_visible&&t.show()):e.data("zdp_reference_date",s)})},zt={init:function(){this.name=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(t){var e,s,i;for(e=0;e<t.length;e++)if(s=t[e].string,i=t[e].prop,this.versionSearchString=t[e].versionSearch||t[e].identity,s){if(-1!==s.indexOf(t[e].subString))return t[e].identity}else if(i)return t[e].identity},searchVersion:function(t){var e=t.indexOf(this.versionSearchString);if(-1!==e)return parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};kt.settings={},kt.clear_date=function(){jt(F).trigger("click")},kt.destroy=function(){void 0!==kt.icon&&(kt.icon.off("click.Zebra_DatePicker_"+yt),kt.icon.off("focus.Zebra_DatePicker_"+yt),kt.icon.off("keydown.Zebra_DatePicker_"+yt),kt.icon.remove()),j.off(),j.remove(),!kt.settings.show_icon||kt.settings.always_visible instanceof jQuery||Dt.unwrap(),Dt.off("blur.Zebra_DatePicker_"+yt),Dt.off("click.Zebra_DatePicker_"+yt),Dt.off("focus.Zebra_DatePicker_"+yt),Dt.off("keydown.Zebra_DatePicker_"+yt),Dt.off("mousedown.Zebra_DatePicker_"+yt),jt(document).off("keyup.Zebra_DatePicker_"+yt),jt(document).off("mousedown.Zebra_DatePicker_"+yt),jt(document).off("touchend.Zebra_DatePicker_"+yt),jt(window).off("resize.Zebra_DatePicker_"+yt),jt(window).off("orientationchange.Zebra_DatePicker_"+yt),Dt.removeData("Zebra_DatePicker"),Dt.attr("readonly",ft.readonly),Dt.attr("style",ft.style?ft.style:""),Dt.css("paddingLeft",ft.padding_left),Dt.css("paddingRight",ft.padding_right)},kt.hide=function(t){j.hasClass("dp_hidden")||kt.settings.always_visible&&!t||(l("hide"),j.addClass("dp_hidden"),kt.settings.onClose&&"function"==typeof kt.settings.onClose&&kt.settings.onClose.call(Dt))},kt.set_date=function(t){var e;"object"==typeof t&&t instanceof Date&&(t=Mt(t)),(e=At(t))&&!Pt(e.getFullYear(),e.getMonth(),e.getDate())&&(Dt.val(t),It(e))},kt.show=function(){ht=kt.settings.view;var t,e=At(Dt.val()||(kt.settings.start_date?kt.settings.start_date:""));if(e?(O=e.getMonth(),nt=e.getMonth(),L=e.getFullYear(),at=e.getFullYear(),H=e.getDate(),Pt(L,O,H)&&(kt.settings.strict&&Dt.val(""),nt=E,at=Q)):(nt=E,at=Q),gt&&(t=e||new Date,K=t.getHours(),tt=t.getMinutes(),et=t.getSeconds(),st=12<=K?"pm":"am",gt.is12hour&&(K=K%12==0?12:K%12),jt.isArray(kt.settings.enabled_hours)&&-1===jt.inArray(K,kt.settings.enabled_hours)&&(K=kt.settings.enabled_hours[0]),jt.isArray(kt.settings.enabled_minutes)&&-1===jt.inArray(tt,kt.settings.enabled_minutes)&&(tt=kt.settings.enabled_minutes[0]),jt.isArray(kt.settings.enabled_seconds)&&-1===jt.inArray(et,kt.settings.enabled_seconds)&&(et=kt.settings.enabled_seconds[0])),Zt(),kt.settings.always_visible instanceof jQuery)j.removeClass("dp_hidden");else{if(kt.settings.container.is("body")){var s=j.outerWidth(),i=j.outerHeight(),n=(void 0!==U?U.offset().left+U.outerWidth(!0):Dt.offset().left+Dt.outerWidth(!0))+kt.settings.offset[0],a=(void 0!==U?U.offset().top:Dt.offset().top)-i+kt.settings.offset[1],r=jt(window).width(),o=jt(window).height(),d=jt(window).scrollTop(),c=jt(window).scrollLeft();"below"===kt.settings.default_position&&(a=(void 0!==U?U.offset().top:Dt.offset().top)+kt.settings.offset[1]),c+r<n+s&&(n=c+r-s),n<c&&(n=c),d+o<a+i&&(a=d+o-i),a<d&&(a=d),j.css({left:n,top:a})}else j.css({left:0,top:0});j.removeClass("dp_hidden"),l()}kt.settings.onOpen&&"function"==typeof kt.settings.onOpen&&kt.settings.onOpen.call(Dt)},kt.update=function(t){kt.original_direction&&(kt.original_direction=kt.direction),kt.settings=jt.extend(kt.settings,t),e(!0)},zt.init(),e()},jt.fn.Zebra_DatePicker=function(e){return this.each(function(){void 0!==jt(this).data("Zebra_DatePicker")&&jt(this).data("Zebra_DatePicker").destroy();var t=new jt.Zebra_DatePicker(this,e);jt(this).data("Zebra_DatePicker",t)})},jt.fn.Zebra_DatePicker.defaults={}});