!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(It){"use strict";It.Zebra_DatePicker=function(t,M){var C,P,F,Z,S,x,Y,I,z,f,j,N,H,O,T,L,R,W,B,E,Q,J,G,U,V,$,d,q,X,K,tt,et,st,it,nt,i,at,rt,ot,dt,ct,lt,c,gt,_t,ht={always_visible:!(this.version="1.9.11"),container:It("body"),custom_classes:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_abbr:!1,default_position:"above",direction:0,disable_time_picker:!1,disabled_dates:!1,enabled_dates:!1,enabled_hours:!1,enabled_minutes:!1,enabled_seconds:!1,first_day_of_week:0,format:"Y-m-d",header_captions:{days:"F, Y",months:"Y",years:"Y1 - Y2"},icon_margin:!1,icon_position:"right",inside:!0,lang_clear_date:"Clear date",months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_abbr:!1,navigation:["&#9664;","&#9654;","&#9650;","&#9660;"],offset:[5,-5],open_icon_only:!1,open_on_focus:!1,pair:!1,readonly_element:!0,rtl:!1,select_other_months:!1,show_clear_date:0,show_icon:!0,show_other_months:!0,show_select_today:"Today",show_week_number:!1,start_date:!1,strict:!1,view:"days",weekend_days:[0,6],zero_pad:!1,onChange:null,onClear:null,onOpen:null,onClose:null,onSelect:null},pt={},ut={},ft=!1,mt="",bt=!1,yt=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),vt=this,wt=It(t),e=function(t){var e,s,i,a,n={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"],hours:["G","g","H","h"],minutes:["i"],seconds:["s"],ampm:["A","a"]},r=null;for(i=0;i<3;i++)mt+=Math.floor(65536*(1+Math.random())).toString(16);if(O=[],T=[],!t)for(e in vt.settings=It.extend({},ht,It.fn.Zebra_DatePicker.defaults,M),ut.readonly=wt.attr("readonly"),ut.style=wt.attr("style"),ut.padding_left=parseInt(wt.css("paddingLeft"),10)||0,ut.padding_right=parseInt(wt.css("paddingRight"),10)||0,wt.data())0===e.indexOf("zdp_")&&(e=e.replace(/^zdp\_/,""),void 0!==ht[e]&&(vt.settings[e]="pair"===e?It(wt.data("zdp_"+e)):wt.data("zdp_"+e)));for(r in vt.settings.readonly_element?wt.attr("readonly","readonly"):wt.removeAttr("readonly"),ct=!1,_t=[],n)It.each(n[r],function(t,e){var s,i;if(-1<vt.settings.format.indexOf(e))if("days"===r)_t.push("days");else if("months"===r)_t.push("months");else if("years"===r)_t.push("years");else if(("hours"===r||"minutes"===r||"seconds"===r||"ampm"===r)&&!vt.settings.disable_time_picker)if(ct||(ct={is12hour:!1},_t.push("time")),"hours"===r)for("g"===e||"h"===e?(i=12,ct.is12hour=!0):i=24,ct.hours=[],s=12===i?1:0;s<(12===i?13:i);s++)(!It.isArray(vt.settings.enabled_hours)||-1<It.inArray(s,vt.settings.enabled_hours))&&ct.hours.push(s);else if("minutes"===r)for(ct.minutes=[],s=0;s<60;s++)(!It.isArray(vt.settings.enabled_minutes)||-1<It.inArray(s,vt.settings.enabled_minutes))&&ct.minutes.push(s);else if("seconds"===r)for(ct.seconds=[],s=0;s<60;s++)(!It.isArray(vt.settings.enabled_seconds)||-1<It.inArray(s,vt.settings.enabled_seconds))&&ct.seconds.push(s);else ct.ampm=["am","pm"]});for(i in 0===_t.length&&(_t=["years","months","days"]),-1===It.inArray(vt.settings.view,_t)&&(vt.settings.view=_t[_t.length-1]),Y=[],vt.settings.custom_classes)vt.settings.custom_classes.hasOwnProperty(i)&&-1===Y.indexOf(i)&&Y.push(i);for(a=0;a<2+Y.length;a++)s=0===a?vt.settings.disabled_dates:1===a?vt.settings.enabled_dates:vt.settings.custom_classes[Y[a-2]],It.isArray(s)&&0<s.length&&It.each(s,function(){var t,e,s,i,n=this.split(" ");for(t=0;t<4;t++){for(n[t]||(n[t]="*"),n[t]=-1<n[t].indexOf(",")?n[t].split(","):new Array(n[t]),e=0;e<n[t].length;e++)if(-1<n[t][e].indexOf("-")&&null!==(i=n[t][e].match(/^([0-9]+)\-([0-9]+)/))){for(s=St(i[1]);s<=St(i[2]);s++)-1===It.inArray(s,n[t])&&n[t].push(s+"");n[t].splice(e,1)}for(e=0;e<n[t].length;e++)n[t][e]=isNaN(St(n[t][e]))?n[t][e]:St(n[t][e])}0===a?O.push(n):1===a?T.push(n):(void 0===pt[Y[a-2]]&&(pt[Y[a-2]]=[]),pt[Y[a-2]].push(n))});var o,d,c=new Date,l=vt.settings.reference_date?vt.settings.reference_date:wt.data("zdp_reference_date")&&void 0!==wt.data("zdp_reference_date")?wt.data("zdp_reference_date"):c;if(L=rt=void 0,W=l.getMonth(),S=c.getMonth(),B=l.getFullYear(),x=c.getFullYear(),R=l.getDate(),Z=c.getDate(),!0===vt.settings.direction)rt=l;else if(!1===vt.settings.direction)U=(L=l).getMonth(),V=L.getFullYear(),G=L.getDate();else if(!It.isArray(vt.settings.direction)&&Ct(vt.settings.direction)&&0<St(vt.settings.direction)||It.isArray(vt.settings.direction)&&((o=kt(vt.settings.direction[0]))||!0===vt.settings.direction[0]||Ct(vt.settings.direction[0])&&0<vt.settings.direction[0])&&((d=kt(vt.settings.direction[1]))||!1===vt.settings.direction[1]||Ct(vt.settings.direction[1])&&0<=vt.settings.direction[1]))rt=o||new Date(B,W,R+(It.isArray(vt.settings.direction)?St(!0===vt.settings.direction[0]?0:vt.settings.direction[0]):St(vt.settings.direction))),W=rt.getMonth(),B=rt.getFullYear(),R=rt.getDate(),d&&+rt<=+d?L=d:!d&&!1!==vt.settings.direction[1]&&It.isArray(vt.settings.direction)&&(L=new Date(B,W,R+St(vt.settings.direction[1]))),L&&(U=L.getMonth(),V=L.getFullYear(),G=L.getDate());else if(!It.isArray(vt.settings.direction)&&Ct(vt.settings.direction)&&St(vt.settings.direction)<0||It.isArray(vt.settings.direction)&&(!1===vt.settings.direction[0]||Ct(vt.settings.direction[0])&&vt.settings.direction[0]<0)&&((o=kt(vt.settings.direction[1]))||Ct(vt.settings.direction[1])&&0<=vt.settings.direction[1]))L=new Date(B,W,R+(It.isArray(vt.settings.direction)?St(!1===vt.settings.direction[0]?0:vt.settings.direction[0]):St(vt.settings.direction))),U=L.getMonth(),V=L.getFullYear(),G=L.getDate(),o&&+o<+L?rt=o:!o&&It.isArray(vt.settings.direction)&&(rt=new Date(V,U,G-St(vt.settings.direction[1]))),rt&&(W=rt.getMonth(),B=rt.getFullYear(),R=rt.getDate());else if(It.isArray(vt.settings.disabled_dates)&&0<vt.settings.disabled_dates.length)for(var g in O)if(-1<It.inArray("*",O[g][0])&&-1<It.inArray("*",O[g][1])&&-1<It.inArray("*",O[g][2])&&-1<It.inArray("*",O[g][3])){var _=[];if(It.each(T,function(){var t=this;"*"!==t[2][0]&&_.push(parseInt(t[2][0]+("*"===t[1][0]?"12":Zt(t[1][0],2))+("*"===t[0][0]?"*"===t[1][0]?"31":new Date(t[2][0],t[1][0],0).getDate():Zt(t[0][0],2)),10))}),_.sort(),0<_.length){var h=(_[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/);B=parseInt(h[1],10),W=parseInt(h[2],10)-1,R=parseInt(h[3],10)}break}if(Mt(B,W,R)){for(;Mt(B);)rt?(B++,W=0):(B--,W=11);for(;Mt(B,W);)rt?(W++,R=1):(W--,R=new Date(B,W+1,0).getDate()),11<W?(B++,W=0,R=1):W<0&&(B--,W=11,R=new Date(B,W+1,0).getDate());for(;Mt(B,W,R);)rt?R++:R--,c=new Date(B,W,R),B=c.getFullYear(),W=c.getMonth(),R=c.getDate();c=new Date(B,W,R),B=c.getFullYear(),W=c.getMonth(),R=c.getDate()}vt.settings.start_date&&"object"==typeof vt.settings.start_date&&vt.settings.start_date instanceof Date&&(vt.settings.start_date=At(vt.settings.start_date));var p=kt(wt.val()||(vt.settings.start_date?vt.settings.start_date:""));if(p&&vt.settings.strict&&Mt(p.getFullYear(),p.getMonth(),p.getDate())&&wt.val(""),t||void 0===rt&&void 0===p||xt(void 0!==p?p:rt),!(vt.settings.always_visible instanceof jQuery)){if(!t){if(vt.settings.show_icon){"firefox"===Yt.name&&wt.is('input[type="text"]')&&"inline"===wt.css("display")&&wt.css("display","inline-block");var u=parseInt(wt.css("marginTop"),10)||0,f=parseInt(wt.css("marginRight"),10)||0,m=parseInt(wt.css("marginBottom"),10)||0,b=parseInt(wt.css("marginLeft"),10)||0,y=It('<span class="Zebra_DatePicker_Icon_Wrapper"></span>').css({display:wt.css("display"),position:"static"===wt.css("position")?"relative":wt.css("position"),"float":wt.css("float"),top:wt.css("top"),right:wt.css("right"),bottom:wt.css("bottom"),left:wt.css("left"),marginTop:u<0?u:0,marginRight:f<0?f:0,marginBottom:m<0?m:0,marginLeft:b<0?b:0,paddingTop:u,paddingRight:f,paddingBottom:m,paddingLeft:b});"block"===wt.css("display")&&y.css("width",wt.outerWidth(!0)),wt.wrap(y).css({position:"relative","float":"none",top:"auto",right:"auto",bottom:"auto",left:"auto",marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),J=It('<button type="button" class="Zebra_DatePicker_Icon'+("disabled"===wt.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>'),vt.icon=J,P=vt.settings.open_icon_only?J:J.add(wt)}else P=wt;P.on("click.Zebra_DatePicker_"+mt+(vt.settings.open_on_focus?" focus.Zebra_DatePicker_"+mt:""),function(){I.hasClass("dp_hidden")&&!wt.attr("disabled")&&(!bt||vt.settings.readonly_element?vt.show():(clearTimeout(ot),ot=setTimeout(function(){vt.show()},600)))}),P.on("keydown.Zebra_DatePicker_"+mt,function(t){9!==t.keyCode||I.hasClass("dp_hidden")||vt.hide()}),!vt.settings.readonly_element&&vt.settings.pair&&wt.on("blur.Zebra_DatePicker_"+mt,function(){var t;(t=kt(It(this).val()))&&!Mt(t.getFullYear(),t.getMonth(),t.getDate())&&xt(t)}),void 0!==J&&J.insertAfter(wt)}if(void 0!==J){J.attr("style","");var v=wt.outerWidth(),w=wt.outerHeight(),k=J.outerWidth(),D=J.outerHeight();J.css("top",(w-D)/2),vt.settings.inside?"right"===vt.settings.icon_position?(J.css("right",!1!==vt.settings.icon_margin?vt.settings.icon_margin:ut.padding_right),wt.css("paddingRight",2*(!1!==vt.settings.icon_margin?vt.settings.icon_margin:ut.padding_right)+k)):(J.css("left",!1!==vt.settings.icon_margin?vt.settings.icon_margin:ut.padding_left),wt.css("paddingLeft",2*(!1!==vt.settings.icon_margin?vt.settings.icon_margin:ut.padding_left)+k)):J.css("left",v+(!1!==vt.settings.icon_margin?vt.settings.icon_margin:ut.padding_left)),J.removeClass("Zebra_DatePicker_Icon_Disabled"),"disabled"===wt.attr("disabled")&&J.addClass("Zebra_DatePicker_Icon_Disabled")}}if(at=!1!==vt.settings.show_select_today&&-1<It.inArray("days",_t)&&!Mt(x,S,Z)&&vt.settings.show_select_today,t)return It(".dp_previous",I).html(vt.settings.navigation[0]),It(".dp_next",I).html(vt.settings.navigation[1]),It(".dp_time_controls_increase .dp_time_control",I).html(vt.settings.navigation[2]),It(".dp_time_controls_decrease .dp_time_control",I).html(vt.settings.navigation[3]),It(".dp_clear",I).html(vt.settings.lang_clear_date),void It(".dp_today",I).html(vt.settings.show_select_today);It(window).on("resize.Zebra_DatePicker_"+mt+", orientationchange.Zebra_DatePicker_"+mt,function(){vt.hide()});var A='<div class="Zebra_DatePicker"><table class="dp_header dp_actions"><tr><td class="dp_previous">'+vt.settings.navigation[0]+(yt?"&#xFE0E;":"")+'</td><td class="dp_caption"></td><td class="dp_next">'+vt.settings.navigation[1]+(yt?"&#xFE0E;":"")+'</td></tr></table><table class="dp_daypicker'+(vt.settings.show_week_number?" dp_week_numbers":"")+' dp_body"></table><table class="dp_monthpicker dp_body"></table><table class="dp_yearpicker dp_body"></table><table class="dp_timepicker dp_body"></table><table class="dp_footer dp_actions"><tr><td class="dp_today">'+at+'</td><td class="dp_clear">'+vt.settings.lang_clear_date+'</td><td class="dp_view_toggler dp_icon">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="dp_confirm dp_icon"></td></tr></table></div>';I=It(A),Q=It("table.dp_header",I),z=It("table.dp_daypicker",I),$=It("table.dp_monthpicker",I),lt=It("table.dp_yearpicker",I),dt=It("table.dp_timepicker",I),E=It("table.dp_footer",I),nt=It("td.dp_today",E),C=It("td.dp_clear",E),et=It("td.dp_view_toggler",E),F=It("td.dp_confirm",E),vt.settings.always_visible instanceof jQuery?wt.attr("disabled")||(vt.settings.always_visible.append(I),vt.show()):vt.settings.container.append(I),I.on("mouseover","td:not(.dp_disabled)",function(){It(this).addClass("dp_hover")}).on("mouseout","td:not(.dp_disabled)",function(){It(this).removeClass("dp_hover")}),Dt(I),It(vt.settings.rtl?".dp_next":".dp_previous",Q).on("click",function(){"months"===gt?it--:"years"===gt?it-=12:--st<0&&(st=11,it--),Pt()}),It(".dp_caption",Q).on("click",function(){gt="days"===gt?-1<It.inArray("months",_t)?"months":-1<It.inArray("years",_t)?"years":"days":"months"===gt?-1<It.inArray("years",_t)?"years":-1<It.inArray("days",_t)?"days":"months":-1<It.inArray("days",_t)?"days":-1<It.inArray("months",_t)?"months":"years",Pt()}),It(vt.settings.rtl?".dp_previous":".dp_next",Q).on("click",function(){"months"===gt?it++:"years"===gt?it+=12:12==++st&&(st=0,it++),Pt()}),z.on("click","td:not(.dp_disabled)",function(){var t;vt.settings.select_other_months&&It(this).attr("class")&&null!==(t=It(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))?Ft(t[1],t[2]-1,t[3],"days",It(this)):Ft(it,st,St(It(this).html()),"days",It(this))}),$.on("click","td:not(.dp_disabled)",function(){var t=It(this).attr("class").match(/dp\_month\_([0-9]+)/);st=St(t[1]),-1===It.inArray("days",_t)?Ft(it,st,1,"months",It(this)):(gt="days",vt.settings.always_visible&&wt.val(""),Pt())}),lt.on("click","td:not(.dp_disabled)",function(){it=St(It(this).html()),-1===It.inArray("months",_t)?Ft(it,1,1,"years",It(this)):(gt="months",vt.settings.always_visible&&wt.val(""),Pt())}),nt.on("click",function(t){var e=new Date;t.preventDefault(),Ft(e.getFullYear(),e.getMonth(),e.getDate(),"days",It(".dp_current",z))}),C.on("click",function(t){t.preventDefault(),wt.val(""),H=N=j=null,vt.settings.always_visible?It("td.dp_selected",I).removeClass("dp_selected"):it=st=null,wt.focus(),vt.hide(),vt.settings.onClear&&"function"==typeof vt.settings.onClear&&vt.settings.onClear.call(wt)}),et.on("click",function(){"time"!==gt?(gt="time",Pt()):It(".dp_caption",Q).trigger("click")}),F.on("click",function(){if(It(".dp_time_controls_increase td",dt).trigger("click"),It(".dp_time_controls_decrease td",dt).trigger("click"),vt.settings.onSelect&&"function"==typeof vt.settings.onSelect){var t=new Date(it,st,j,ct&&ct.hours?q+(ct.ampm&&("pm"===tt&&q<12||"am"===tt&&12===q)?12:0):0,ct&&ct.minutes?X:0,ct&&ct.seconds?K:0);vt.settings.onSelect.call(wt,At(t),it+"-"+Zt(st+1,2)+"-"+Zt(j,2)+(ct?" "+Zt(t.getHours(),2)+":"+Zt(t.getMinutes(),2)+":"+Zt(t.getSeconds(),2):""),t)}vt.hide()}),I.on("click",".dp_time_controls_increase td, .dp_time_controls_decrease td",function(){var t,e=0<It(this).parent(".dp_time_controls_increase").length,s=It(this).attr("class").match(/dp\_time\_([^\s]+)/i),i=It(".dp_time_segments .dp_time_"+s[1]+("ampm"!==s[1]?"s":""),dt),n=i.text().toLowerCase(),a=ct[s[1]+("ampm"!==s[1]?"s":"")],r=It.inArray("ampm"!==s[1]?parseInt(n,10):n,a),o=-1===r?0:e?r+1>=a.length?0:r+1:r-1<0?a.length-1:r-1;"hour"===s[1]?q=a[o]:"minute"===s[1]?X=a[o]:"second"===s[1]?K=a[o]:tt=a[o],!j&&vt.settings.start_date&&(t=kt(vt.settings.start_date))&&(j=t.getDate()),j||(j=R),i.text(Zt(a[o],2).toUpperCase()),Ft(it,st,j)}),vt.settings.always_visible instanceof jQuery||(It(document).on("touchmove.Zebra_DatePicker_"+mt,function(){ft=!0}),It(document).on("mousedown.Zebra_DatePicker_"+mt+" touchend.Zebra_DatePicker_"+mt,function(t){if("touchend"===t.type&&ft)return ft=!(bt=!0);ft=!1,I.hasClass("dp_hidden")||(!vt.settings.open_icon_only||!vt.icon||It(t.target).get(0)===vt.icon.get(0))&&(vt.settings.open_icon_only||It(t.target).get(0)===wt.get(0)||vt.icon&&It(t.target).get(0)===vt.icon.get(0))||0!==It(t.target).parents().filter(".Zebra_DatePicker").length||vt.hide(!0)}),It(document).on("keyup.Zebra_DatePicker_"+mt,function(t){I.hasClass("dp_hidden")||27!==t.which||vt.hide()})),Pt()},kt=function(t){if(t+="",""!==It.trim(t)){var e,s,i=w(vt.settings.format),n=["d","D","j","l","N","S","w","F","m","M","n","Y","y","G","g","H","h","i","s","a","A"],a=[],r=[],o=null,d=null;for(s=0;s<n.length;s++)-1<(o=i.indexOf(n[s]))&&a.push({character:n[s],position:o});if(a.sort(function(t,e){return t.position-e.position}),It.each(a,function(t,e){switch(e.character){case"d":r.push("0[1-9]|[12][0-9]|3[01]");break;case"D":r.push("[a-z]{3}");break;case"j":r.push("[1-9]|[12][0-9]|3[01]");break;case"l":r.push("[a-zÀ-ɏ]+");break;case"N":r.push("[1-7]");break;case"S":r.push("st|nd|rd|th");break;case"w":r.push("[0-6]");break;case"F":r.push("[a-z]+");break;case"m":r.push("0[1-9]|1[012]");break;case"M":r.push("[a-z]{3}");break;case"n":r.push("[1-9]|1[012]");break;case"Y":r.push("[0-9]{4}");break;case"y":r.push("[0-9]{2}");break;case"G":r.push("[1-9]|1[0-9]|2[0123]");break;case"g":r.push("[0-9]|1[012]");break;case"H":r.push("0[0-9]|1[0-9]|2[0123]");break;case"h":r.push("0[0-9]|1[012]");break;case"i":case"s":r.push("0[0-9]|[12345][0-9]");break;case"a":r.push("am|pm");break;case"A":r.push("AM|PM")}}),r.length&&(a.reverse(),It.each(a,function(t,e){i=i.replace(e.character,"("+r[r.length-t-1]+")")}),r=new RegExp("^"+i+"$","ig"),d=r.exec(t))){var c,l,g=new Date,_=1,h=g.getMonth()+1,p=g.getFullYear(),u=g.getHours(),f=g.getMinutes(),m=g.getSeconds(),b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=["January","February","March","April","May","June","July","August","September","October","November","December"],v=!0;if(a.reverse(),It.each(a,function(s,i){if(!v)return!0;switch(i.character){case"m":case"n":h=St(d[s+1]);break;case"d":case"j":_=St(d[s+1]);break;case"D":case"l":case"F":case"M":l="D"===i.character||"l"===i.character?vt.settings.days:vt.settings.months,v=!1,It.each(l,function(t,e){if(v)return!0;if(d[s+1].toLowerCase()===e.substring(0,"D"===i.character||"M"===i.character?3:e.length).toLowerCase()){switch(i.character){case"D":d[s+1]=b[t].substring(0,3);break;case"l":d[s+1]=b[t];break;case"F":d[s+1]=y[t],h=t+1;break;case"M":d[s+1]=y[t].substring(0,3),h=t+1}v=!0}});break;case"Y":p=St(d[s+1]);break;case"y":p="19"+St(d[s+1]);break;case"G":case"H":case"g":case"h":u=St(d[s+1]);break;case"i":f=St(d[s+1]);break;case"s":m=St(d[s+1]);break;case"a":case"A":c=d[s+1].toLowerCase()}}),v&&(e=new Date(p,(h||1)-1,_||1,u+("pm"===c&&12!==u?12:"am"===c&&12===u?-12:0),f,m)).getFullYear()===p&&e.getDate()===(_||1)&&e.getMonth()===(h||1)-1)return e}return!1}},Dt=function(t){"firefox"===Yt.name?t.css("MozUserSelect","none"):"explorer"===Yt.name?It(document).on("selectstart",t,function(){return!1}):t.mousedown(function(){return!1})},w=function(t){return t.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1")},At=function(t){var e,s,i="",n=t.getDate(),a=t.getDay(),r=vt.settings.days[a],o=t.getMonth()+1,d=vt.settings.months[o-1],c=t.getFullYear()+"",l=t.getHours(),g=l%12==0?12:l%12,_=t.getMinutes(),h=t.getSeconds(),p=12<=l?"pm":"am";for(e=0;e<vt.settings.format.length;e++)switch(s=vt.settings.format.charAt(e)){case"y":c=c.substr(2);case"Y":i+=c;break;case"m":o=Zt(o,2);case"n":i+=o;break;case"M":d=It.isArray(vt.settings.months_abbr)&&void 0!==vt.settings.months_abbr[o-1]?vt.settings.months_abbr[o-1]:vt.settings.months[o-1].substr(0,3);case"F":i+=d;break;case"d":n=Zt(n,2);case"j":i+=n;break;case"D":r=It.isArray(vt.settings.days_abbr)&&void 0!==vt.settings.days_abbr[a]?vt.settings.days_abbr[a]:vt.settings.days[a].substr(0,3);case"l":i+=r;break;case"N":a++;case"w":i+=a;break;case"S":i+=n%10==1&&"11"!==n?"st":n%10==2&&"12"!==n?"nd":n%10==3&&"13"!==n?"rd":"th";break;case"g":i+=g;break;case"h":i+=Zt(g,2);break;case"G":i+=l;break;case"H":i+=Zt(l,2);break;case"i":i+=Zt(_,2);break;case"s":i+=Zt(h,2);break;case"a":i+=p;break;case"A":i+=p.toUpperCase();break;default:i+=s}return i},n=function(){var t,e,s,i,n,a,r,o,d,c,l,g,_=new Date(it,st+1,0).getDate(),h=new Date(it,st,1).getDay(),p=new Date(it,st,0).getDate(),u=h-vt.settings.first_day_of_week;for(u=u<0?7+u:u,y(vt.settings.header_captions.days),e="<tr>",vt.settings.show_week_number&&(e+="<th>"+vt.settings.show_week_number+"</th>"),t=0;t<7;t++)s=(vt.settings.first_day_of_week+(vt.settings.rtl?6-t:t))%7,e+="<th>"+(It.isArray(vt.settings.days_abbr)&&void 0!==vt.settings.days_abbr[s]?vt.settings.days_abbr[s]:vt.settings.days[s].substr(0,2))+"</th>";for(e+="</tr><tr>",t=0;t<42;t++)g=vt.settings.rtl?6-t%7*2:0,0<t&&t%7==0&&(e+="</tr><tr>"),t%7==0&&vt.settings.show_week_number&&(e+="<th>"+b(new Date(it,st,t-u+1))+"</th>"),s=g+(t-u+1),vt.settings.select_other_months&&(t<u||_<s)&&(n=(i=new Date(it,st,s)).getFullYear(),a=i.getMonth(),r=i.getDate(),i=n+Zt(a+1,2)+Zt(r,2)),o=(vt.settings.first_day_of_week+t)%7,l=-1<It.inArray(o,vt.settings.weekend_days),vt.settings.rtl&&s<1||!vt.settings.rtl&&t<u?e+='<td class="dp_not_in_month '+(l?"dp_weekend ":"")+(vt.settings.select_other_months&&!Mt(n,a,r)?"date_"+i:"dp_disabled")+'">'+(vt.settings.select_other_months||vt.settings.show_other_months?Zt(g+p-u+t+1,vt.settings.zero_pad?2:0):"&nbsp;")+"</td>":_<s?e+='<td class="dp_not_in_month '+(l?"dp_weekend ":"")+(vt.settings.select_other_months&&!Mt(n,a,r)?"date_"+i:"dp_disabled")+'">'+(vt.settings.select_other_months||vt.settings.show_other_months?Zt(s-_,vt.settings.zero_pad?2:0):"&nbsp;")+"</td>":(d="",c=m(it,st,s),l&&(d=" dp_weekend"),st===S&&it===x&&Z===s&&(d+=" dp_current"),""!==c&&(d+=" "+c),st===N&&it===H&&j===s&&(d+=" dp_selected"),Mt(it,st,s)&&(d+=" dp_disabled"),e+="<td"+(""!==d?' class="'+It.trim(d)+'"':"")+">"+((vt.settings.zero_pad?Zt(s,2):s)||"&nbsp;")+"</td>");e+="</tr>",z.html(It(e)),vt.settings.always_visible&&(f=It("td:not(.dp_disabled)",z)),z.show()},m=function(s,i,n){var a,t,r;for(t in void 0!==i&&(i+=1),Y)if(a=Y[t],r=!1,It.isArray(pt[a])&&It.each(pt[a],function(){if(!r){var t,e=this;if((-1<It.inArray(s,e[2])||-1<It.inArray("*",e[2]))&&(void 0!==i&&-1<It.inArray(i,e[1])||-1<It.inArray("*",e[1]))&&(void 0!==n&&-1<It.inArray(n,e[0])||-1<It.inArray("*",e[0]))){if(-1<It.inArray("*",e[3]))return r=a;if(t=new Date(s,i-1,n).getDay(),-1<It.inArray(t,e[3]))return r=a}}}),r)return r;return r||""},b=function(t){var e,s,i,n,a,r,o,d=t.getFullYear(),c=t.getMonth()+1,l=t.getDate();return c<3?(i=(s=((e=d-1)/4|0)-(e/100|0)+(e/400|0))-(((e-1)/4|0)-((e-1)/100|0)+((e-1)/400|0)),n=0,a=l-1+31*(c-1)):(n=(i=(s=((e=d)/4|0)-(e/100|0)+(e/400|0))-(((e-1)/4|0)-((e-1)/100|0)+((e-1)/400|0)))+1,a=l+((153*(c-3)+2)/5|0)+58+i),(o=a+3-(l=(a+(r=(e+s)%7)-n)%7))<0?53-((r-i)/5|0):364+i<o?1:1+(o/7|0)},l=function(t){var e,s;if("explorer"===Yt.name&&6===Yt.version)switch(i||(e=St(I.css("zIndex"))-1,i=It("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,css:{zIndex:e,position:"absolute",top:-1e3,left:-1e3,width:I.outerWidth(),height:I.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}}),It("body").append(i)),t){case"hide":i.hide();break;default:s=I.offset(),i.css({top:s.top,left:s.left,display:"block"})}},Mt=function(s,i,n){var t,e,a,r;if(!(void 0!==s&&!isNaN(s)||void 0!==i&&!isNaN(i)||void 0!==n&&!isNaN(n)))return!1;if(s<1e3)return!0;if(It.isArray(vt.settings.direction)||0!==St(vt.settings.direction)){if(8===(e=((t=St(o(s,void 0!==i?Zt(i,2):"",void 0!==n?Zt(n,2):"")))+"").length)&&(void 0!==rt&&t<St(o(B,Zt(W,2),Zt(R,2)))||void 0!==L&&t>St(o(V,Zt(U,2),Zt(G,2)))))return!0;if(6===e&&(void 0!==rt&&t<St(o(B,Zt(W,2)))||void 0!==L&&t>St(o(V,Zt(U,2)))))return!0;if(4===e&&(void 0!==rt&&t<B||void 0!==L&&V<t))return!0}return void 0!==i&&(i+=1),r=a=!1,It.isArray(O)&&O.length&&It.each(O,function(){if(!a){var t,e=this;if((-1<It.inArray(s,e[2])||-1<It.inArray("*",e[2]))&&(void 0!==i&&-1<It.inArray(i,e[1])||-1<It.inArray("*",e[1]))&&(void 0!==n&&-1<It.inArray(n,e[0])||-1<It.inArray("*",e[0]))){if(-1<It.inArray("*",e[3]))return a=!0;if(t=new Date(s,i-1,n).getDay(),-1<It.inArray(t,e[3]))return a=!0}}}),T&&It.each(T,function(){if(!r){var t,e=this;if((-1<It.inArray(s,e[2])||-1<It.inArray("*",e[2]))&&(r=!0,void 0!==i))if(r=!0,-1<It.inArray(i,e[1])||-1<It.inArray("*",e[1])){if(void 0!==n)if(r=!0,-1<It.inArray(n,e[0])||-1<It.inArray("*",e[0])){if(-1<It.inArray("*",e[3]))return r=!0;if(t=new Date(s,i-1,n).getDay(),-1<It.inArray(t,e[3]))return r=!0;r=!1}else r=!1}else r=!1}}),(!T||!r)&&!(!O||!a)},Ct=function(t){return(t+"").match(/^\-?[0-9]+$/)},y=function(t){!isNaN(parseFloat(st))&&isFinite(st)&&(t=t.replace(/\bm\b|\bn\b|\bF\b|\bM\b/,function(t){switch(t){case"m":return Zt(st+1,2);case"n":return st+1;case"F":return vt.settings.months[st];case"M":return It.isArray(vt.settings.months_abbr)&&void 0!==vt.settings.months_abbr[st]?vt.settings.months_abbr[st]:vt.settings.months[st].substr(0,3);default:return t}})),!isNaN(parseFloat(it))&&isFinite(it)&&(t=t.replace(/\bY\b/,it).replace(/\by\b/,(it+"").substr(2)).replace(/\bY1\b/i,it-7).replace(/\bY2\b/i,it+4)),It(".dp_caption",Q).html(t)},Pt=function(){var t,e,s;""===z.text()||"days"===gt?(""===z.text()?(vt.settings.always_visible instanceof jQuery||I.css("left",-1e3),I.removeClass("hidden"),n(),t=void 0!==z[0].getBoundingClientRect&&void 0!==z[0].getBoundingClientRect().height?z[0].getBoundingClientRect().height:z.outerHeight(!0),$.css("height",t),lt.css("height",t),dt.css("height",t+Q.outerHeight(!0)),I.css("width",I.outerWidth()),I.addClass("dp_hidden")):n(),Q.show(),$.hide(),lt.hide(),dt.hide(),et.hide(),F.hide(),ct&&et.show().removeClass("dp_calendar")):"months"===gt?(!function(){y(vt.settings.header_captions.months);var t,e,s,i="<tr>";for(t=0;t<12;t++)0<t&&t%3==0&&(i+="</tr><tr>"),e="dp_month_"+(s=vt.settings.rtl?2+t-t%3*2:t),Mt(it,s)?e+=" dp_disabled":!1!==N&&N===s&&it===H?e+=" dp_selected":S===s&&x===it&&(e+=" dp_current"),i+='<td class="'+It.trim(e)+'">'+(It.isArray(vt.settings.months_abbr)&&void 0!==vt.settings.months_abbr[s]?vt.settings.months_abbr[s]:vt.settings.months[s].substr(0,3))+"</td>";i+="</tr>",$.html(It(i)),vt.settings.always_visible&&(d=It("td:not(.dp_disabled)",$)),$.show()}(),z.hide(),lt.hide(),dt.hide(),et.hide(),F.hide()):"years"===gt?(!function(){y(vt.settings.header_captions.years);var t,e,s,i="<tr>";for(t=0;t<12;t++)0<t&&t%3==0&&(i+="</tr><tr>"),s=vt.settings.rtl?2+t-t%3*2:t,e="",Mt(it-7+s)?e+=" dp_disabled":H&&H===it-7+s?e+=" dp_selected":x===it-7+s&&(e+=" dp_current"),i+="<td"+(""!==It.trim(e)?' class="'+It.trim(e)+'"':"")+">"+(it-7+s)+"</td>";i+="</tr>",lt.html(It(i)),vt.settings.always_visible&&(c=It("td:not(.dp_disabled)",lt)),lt.show()}(),z.hide(),$.hide(),dt.hide(),et.hide(),F.hide()):"time"===gt&&(s='<tr class="dp_time_controls_increase">'+(vt.settings.rtl&&ct.ampm?'<td class="dp_time_ampm dp_time_control">'+vt.settings.navigation[2]+"</td>":"")+(ct.hours?'<td class="dp_time_hour dp_time_control">'+vt.settings.navigation[2]+"</td>":"")+(ct.minutes?'<td class="dp_time_minute dp_time_control">'+vt.settings.navigation[2]+"</td>":"")+(ct.seconds?'<td class="dp_time_second dp_time_control">'+vt.settings.navigation[2]+"</td>":"")+(!vt.settings.rtl&&ct.ampm?'<td class="dp_time_ampm dp_time_control">'+vt.settings.navigation[2]+"</td>":"")+"</tr>",s+='<tr class="dp_time_segments">',vt.settings.rtl&&ct.ampm&&(s+='<td class="dp_time_ampm dp_disabled'+(ct.hours||ct.minutes||ct.seconds?" dp_time_separator":"")+'"><div>'+tt.toUpperCase()+"</div></td>"),ct.hours&&(s+='<td class="dp_time_hours dp_disabled'+(ct.minutes||ct.seconds||!vt.settings.rtl&&ct.ampm?" dp_time_separator":"")+'"><div>'+Zt(q,2)+"</div></td>"),ct.minutes&&(s+='<td class="dp_time_minutes dp_disabled'+(ct.seconds||!vt.settings.rtl&&ct.ampm?" dp_time_separator":"")+'"><div>'+Zt(X,2)+"</div></td>"),ct.seconds&&(s+='<td class="dp_time_seconds dp_disabled'+(!vt.settings.rtl&&ct.ampm?" dp_time_separator":"")+'"><div>'+Zt(K,2)+"</div></td>"),!vt.settings.rtl&&ct.ampm&&(s+='<td class="dp_time_ampm dp_disabled">'+tt.toUpperCase()+"</td>"),s+="</tr>",s+='<tr class="dp_time_controls_decrease">'+(vt.settings.rtl&&ct.ampm?'<td class="dp_time_ampm dp_time_control">'+vt.settings.navigation[3]+"</td>":"")+(ct.hours?'<td class="dp_time_hour dp_time_control">'+vt.settings.navigation[3]+"</td>":"")+(ct.minutes?'<td class="dp_time_minute dp_time_control">'+vt.settings.navigation[3]+"</td>":"")+(ct.seconds?'<td class="dp_time_second dp_time_control">'+vt.settings.navigation[3]+"</td>":"")+(!vt.settings.rtl&&ct.ampm?'<td class="dp_time_ampm dp_time_control">'+vt.settings.navigation[3]+"</td>":"")+"</tr>",dt.html(It(s)),dt.show(),1===_t.length?(et.hide(),F.show()):(et.show().addClass("dp_calendar"),""===wt.val()?F.hide():F.show()),Q.hide(),z.hide(),$.hide(),lt.hide()),"time"!==gt&&vt.settings.onChange&&"function"==typeof vt.settings.onChange&&void 0!==gt&&((e="days"===gt?z.find("td:not(.dp_disabled)"):"months"===gt?$.find("td:not(.dp_disabled)"):lt.find("td:not(.dp_disabled)")).each(function(){var t;"days"===gt?It(this).hasClass("dp_not_in_month")&&!It(this).hasClass("dp_disabled")?(t=It(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/),It(this).data("date",t[1]+"-"+t[2]+"-"+t[3])):It(this).data("date",it+"-"+Zt(st+1,2)+"-"+Zt(St(It(this).text()),2)):"months"===gt?(t=It(this).attr("class").match(/dp\_month\_([0-9]+)/),It(this).data("date",it+"-"+Zt(St(t[1])+1,2))):It(this).data("date",St(It(this).text()))}),vt.settings.onChange.call(wt,gt,e)),E.show(),"time"===gt&&1<_t.length?(nt.hide(),C.hide(),et.css("width",""===wt.val()?"100%":"50%")):(nt.show(),C.show(),!0===vt.settings.show_clear_date||0===vt.settings.show_clear_date&&""!==wt.val()||vt.settings.always_visible&&!1!==vt.settings.show_clear_date?at?(nt.css("width","50%"),C.css("width","50%")):(nt.hide(),C.css("width",-1<It.inArray(_t,"time")?"50%":"100%")):(C.hide(),at?nt.css("width","100%"):(nt.hide(),(!ct||"time"!==gt&&"days"!==gt)&&E.hide())))},Ft=function(t,e,s,i,n){var a=new Date(t,e,s,ct&&ct.hours?q+(ct.ampm?"pm"===tt&&12!==q?12:"am"===tt&&12===q?-12:0:0):12,ct&&ct.minutes?X:0,ct&&ct.seconds?K:0),r="days"===i?f:"months"===i?d:c,o=At(a);wt.val(o),(vt.settings.always_visible||ct)&&(N=a.getMonth(),st=a.getMonth(),H=a.getFullYear(),it=a.getFullYear(),j=a.getDate(),n&&r&&(r.removeClass("dp_selected"),n.addClass("dp_selected"),"days"===i&&n.hasClass("dp_not_in_month")&&!n.hasClass("dp_disabled")&&vt.show())),ct?(gt="time",Pt()):(wt.focus(),vt.hide()),xt(a),!ct&&vt.settings.onSelect&&"function"==typeof vt.settings.onSelect&&vt.settings.onSelect.call(wt,o,t+"-"+Zt(e+1,2)+"-"+Zt(s,2),a)},o=function(){var t,e="";for(t=0;t<arguments.length;t++)e+=arguments[t]+"";return e},Zt=function(t,e){for(t+="";t.length<e;)t="0"+t;return t},St=function(t){return parseInt(t,10)},xt=function(s){vt.settings.pair&&It.each(vt.settings.pair,function(){var t,e=It(this);e.data&&e.data("Zebra_DatePicker")?((t=e.data("Zebra_DatePicker")).update({reference_date:s,direction:0===t.settings.direction?1:t.settings.direction}),t.settings.always_visible&&t.show()):e.data("zdp_reference_date",s)})},Yt={init:function(){this.name=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(t){var e,s,i;for(e=0;e<t.length;e++)if(s=t[e].string,i=t[e].prop,this.versionSearchString=t[e].versionSearch||t[e].identity,s){if(-1!==s.indexOf(t[e].subString))return t[e].identity}else if(i)return t[e].identity},searchVersion:function(t){var e=t.indexOf(this.versionSearchString);if(-1!==e)return parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};vt.settings={},vt.clear_date=function(){It(C).trigger("click")},vt.destroy=function(){void 0!==vt.icon&&(vt.icon.off("click.Zebra_DatePicker_"+mt),vt.icon.off("focus.Zebra_DatePicker_"+mt),vt.icon.off("keydown.Zebra_DatePicker_"+mt),vt.icon.remove()),I.off(),I.remove(),!vt.settings.show_icon||vt.settings.always_visible instanceof jQuery||wt.unwrap(),wt.off("blur.Zebra_DatePicker_"+mt),wt.off("click.Zebra_DatePicker_"+mt),wt.off("focus.Zebra_DatePicker_"+mt),wt.off("keydown.Zebra_DatePicker_"+mt),wt.off("mousedown.Zebra_DatePicker_"+mt),It(document).off("keyup.Zebra_DatePicker_"+mt),It(document).off("mousedown.Zebra_DatePicker_"+mt),It(document).off("touchend.Zebra_DatePicker_"+mt),It(window).off("resize.Zebra_DatePicker_"+mt),It(window).off("orientationchange.Zebra_DatePicker_"+mt),wt.removeData("Zebra_DatePicker"),wt.attr("readonly",ut.readonly),wt.attr("style",ut.style?ut.style:""),wt.css("paddingLeft",ut.padding_left),wt.css("paddingRight",ut.padding_right)},vt.hide=function(t){I.hasClass("dp_hidden")||vt.settings.always_visible&&!t||(l("hide"),I.addClass("dp_hidden"),vt.settings.onClose&&"function"==typeof vt.settings.onClose&&vt.settings.onClose.call(wt))},vt.set_date=function(t){var e;"object"==typeof t&&t instanceof Date&&(t=At(t)),(e=kt(t))&&!Mt(e.getFullYear(),e.getMonth(),e.getDate())&&(wt.val(t),xt(e))},vt.show=function(){gt=vt.settings.view;var t,e=kt(wt.val()||(vt.settings.start_date?vt.settings.start_date:""));if(e?(N=e.getMonth(),st=e.getMonth(),H=e.getFullYear(),it=e.getFullYear(),j=e.getDate(),Mt(H,N,j)&&(vt.settings.strict&&wt.val(""),st=W,it=B)):(st=W,it=B),ct&&(t=e||new Date,q=t.getHours(),X=t.getMinutes(),K=t.getSeconds(),tt=12<=q?"pm":"am",ct.is12hour&&(q=q%12==0?12:q%12),It.isArray(vt.settings.enabled_hours)&&-1===It.inArray(q,vt.settings.enabled_hours)&&(q=vt.settings.enabled_hours[0]),It.isArray(vt.settings.enabled_minutes)&&-1===It.inArray(X,vt.settings.enabled_minutes)&&(X=vt.settings.enabled_minutes[0]),It.isArray(vt.settings.enabled_seconds)&&-1===It.inArray(K,vt.settings.enabled_seconds)&&(K=vt.settings.enabled_seconds[0])),Pt(),vt.settings.always_visible instanceof jQuery)I.removeClass("dp_hidden");else{if(vt.settings.container.is("body")){var s=I.outerWidth(),i=I.outerHeight(),n=(void 0!==J?J.offset().left+J.outerWidth(!0):wt.offset().left+wt.outerWidth(!0))+vt.settings.offset[0],a=(void 0!==J?J.offset().top:wt.offset().top)-i+vt.settings.offset[1],r=It(window).width(),o=It(window).height(),d=It(window).scrollTop(),c=It(window).scrollLeft();"below"===vt.settings.default_position&&(a=(void 0!==J?J.offset().top:wt.offset().top)+vt.settings.offset[1]),c+r<n+s&&(n=c+r-s),n<c&&(n=c),d+o<a+i&&(a=d+o-i),a<d&&(a=d),I.css({left:n,top:a})}else I.css({left:0,top:0});I.removeClass("dp_hidden"),l()}vt.settings.onOpen&&"function"==typeof vt.settings.onOpen&&vt.settings.onOpen.call(wt)},vt.update=function(t){vt.original_direction&&(vt.original_direction=vt.direction),vt.settings=It.extend(vt.settings,t),e(!0)},Yt.init(),e()},It.fn.Zebra_DatePicker=function(e){return this.each(function(){void 0!==It(this).data("Zebra_DatePicker")&&It(this).data("Zebra_DatePicker").destroy();var t=new It.Zebra_DatePicker(this,e);It(this).data("Zebra_DatePicker",t)})},It.fn.Zebra_DatePicker.defaults={}});